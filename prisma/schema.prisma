// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Donor {
    id String @id @default(uuid())

    firstName  String

    lastName String

    donorType String

    CPF String @unique

    profileImage String

    email String @unique

    password String

    donationRequests DonationRequest[]

    creditCards DonorCreditCard[]
}

model DonationRequest {
    id String @id @default(uuid())

    title String

    description String

    image String

    owner Donor @relation(fields: [ownerId],  references: [id])
    ownerId String

    daysRemaining Int

    category String

    emergency Boolean @default(false)

    target Int

    reached Int
}

model CreditCardType {
  id String @id @default(uuid())

  name String

  type String

  creditCardTypes DonorCreditCard[]
}

model DonorCreditCard {
  id String @id @default(uuid())

  creditCardType CreditCardType @relation(fields: [creditCardTypeId], references: [id])
  creditCardTypeId String

  donor Donor @relation(fields: [donorId], references: [id])
  donorId String

  holderName String

  creditCardNumber String

  validity String

  cvv Int
}

model Cause {
  id String @id @default(uuid())

  image String

  title String

  description String

  category String
}
